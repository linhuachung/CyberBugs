{"ast":null,"code":"var _jsxFileName = \"D:\\\\Chun Folder\\\\Test web html\\\\Cyberbugs1\\\\src\\\\components\\\\Form\\\\FormCreateTask\\\\FormCreateTask.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Editor } from '@tinymce/tinymce-react';\nimport { Select, Slider } from 'antd';\nimport { connect, useSelector, useDispatch } from 'react-redux';\nimport { GET_ALL_PROJECT_SAGA } from './../../../redux/constants/Cyberbugs/ProjectCyberBugsConstants';\nimport { TaskTypeReducer } from './../../../redux/reducers/TaskTypeReducer';\nimport { GET_ALL_TAKSK_TYPE_SAGA } from './../../../redux/constants/Cyberbugs/TaskTypeConstant';\nimport { GET_ALL_PRIORITY_SAGA } from './../../../redux/constants/Cyberbugs/PriorityConstant';\nimport { withFormik } from 'formik';\nimport * as Yup from 'yup';\nimport { GET_ALL_STATUS_SAGA } from './../../../redux/constants/Cyberbugs/StatusConstant';\nimport { GET_USERS_BY_ID_PROJECT_SAGA } from './../../../redux/constants/Cyberbugs/UserConstant';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Option\n} = Select;\nconst children = [];\n\nfor (let i = 10; i < 36; i++) {\n  children.push( /*#__PURE__*/_jsxDEV(Option, {\n    children: i.toString(36) + i\n  }, i.toString(36) + i, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 19\n  }, this));\n}\n\nfunction FormCreateTask(props) {\n  _s();\n\n  //!do kết nối với formik => component có các prop của formik\n  const {\n    values,\n    touched,\n    errors,\n    handleChange,\n    handleBlur,\n    handleSubmit,\n    setValues,\n    //cho phép set lại nguyên cả object values khi submit mà không cần thông qua handle change, có thể gọi hàm này để set lại value ở bất cứ hàm nào\n    setFieldValue //cho phép set lại value của 1 field nào đó, còn value các trường còn lại giữ nguyên, khi submit mà không cần thông qua handle change, có thể gọi hàm này để set lại value ở bất cứ hàm nào\n\n  } = props;\n  console.log(\"values in HOC FrmCreateTask\", values);\n  const dispatch = useDispatch(); //lấy dữ liệu từ redux\n\n  const {\n    arrProject\n  } = useSelector(rootReducer => rootReducer.ProjectCyberBugsReducer); // console.log(\"arrProject\", arrProject);\n\n  const {\n    arrTaskType\n  } = useSelector(rootReducer => rootReducer.TaskTypeReducer); // console.log(\"arrTaskType\", arrTaskType);\n\n  const {\n    arrPriority\n  } = useSelector(rootReducer => rootReducer.PriorityReducer); // console.log(\"handleSearch\",handleSearch);\n\n  const {\n    arrStatus\n  } = useSelector(rootReducer => rootReducer.StatusReducer); // console.log(\"arrStatus\", arrStatus);\n\n  const {\n    arrUser\n  } = useSelector(rootReducer => rootReducer.UserCyberBugsReducer);\n  console.log(\"arrUser\", arrUser); //tạo ra mảng option từ arrUser (chứa các option là các user đc assign tương ứng vào project)\n\n  const usersOption = arrUser.map((user, index) => {\n    return {\n      label: user.name,\n      value: user.userId\n    };\n  });\n  console.log(\"userOption\", usersOption);\n  const [timeTracking, setTimeTracking] = useState({\n    timeTrackingSpent: 0,\n    timeTrackingRemaining: 0\n  }); //hook\n\n  useEffect(() => {\n    dispatch({\n      type: GET_ALL_PROJECT_SAGA\n    });\n    dispatch({\n      type: GET_ALL_TAKSK_TYPE_SAGA\n    });\n    dispatch({\n      type: GET_ALL_PRIORITY_SAGA\n    });\n    dispatch({\n      type: GET_ALL_STATUS_SAGA\n    }); //đưa làm handleSubmit lên ModalCyberbugs để cập nhận lại sự kiện cho nút submit\n\n    dispatch({\n      type: 'SET_SUBMIT_CREATE_TASK',\n      submitFunction: handleSubmit\n    });\n  }, []);\n\n  const handleMultiSelectChange = values => {\n    //?Hàm này đc chạy khi select 1 option và lấy ra mảng value các option đc chọn\n    console.log(\"selected array id  users\", values); //!đây là handleChange của thẻ Select của Andesign nên k thể lấy dữ liệu khi submit như các thẻ select khác (là chỉ cần để onChange = {handleChange} thì formik sẽ tự động lấy)\n    // * ==> phải sử dụng hàm setField và truyền vào tham số thứ nhất là tên của field muốn lấy dữ liệu, tham số thứ 2 là dữ liệu\n\n    setFieldValue(\"listUserAsign\", values);\n  };\n\n  const handleSearch = value => {\n    //? Hàm này đc chạy khi ng dùng nhập vào ô multi select\n    console.log(\"value ng dùng nhập\", value); //mỗi lần search thì call api lấy về mảng user gồm tất cả các user\n\n    dispatch({\n      type: 'GET_USER_CYBERBUGS_SAGA',\n      keyWord: ''\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"container\",\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Project Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"projectId\",\n        className: \"form-control\",\n        onChange: e => {\n          // //cập nhật giá trị cho trường projectId\n          setFieldValue(\"projectId\", e.target.value); //?mỗi lần select 1 project thì gọi action saga get users assigned trong project này và gửi vào mảng arrUser trên UserCyberBugsReducer\n\n          let {\n            value\n          } = e.target;\n          console.log(\"value khi onChange select Project Name \", value);\n          dispatch({\n            type: GET_USERS_BY_ID_PROJECT_SAGA,\n            idProject: value\n          });\n        },\n        children: arrProject.map((project, index) => {\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: project.id,\n            children: project.projectName\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 32\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Task Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control\",\n        name: \"taskName\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Status Id\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"form-control\",\n        name: \"statusId\",\n        children: arrStatus.map((statusItem, index) => {\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: statusItem.statusId,\n            children: statusItem.statusName\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 32\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Priority\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"prioritytId\",\n            className: \"form-control\",\n            onChange: handleChange,\n            children: arrPriority.map((taskPriority, index) => {\n              return /*#__PURE__*/_jsxDEV(\"option\", {\n                value: taskPriority.priorityId,\n                children: [\" \", taskPriority.priority]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 44\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Task Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"typeId\",\n            className: \"form-control\",\n            onChange: handleChange,\n            children: arrTaskType.map((taskType, index) => {\n              return /*#__PURE__*/_jsxDEV(\"option\", {\n                value: taskType.id,\n                children: taskType.taskType\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 40\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Assign Members\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              mode: \"multiple\",\n              allowClear: true,\n              style: {\n                width: '100%'\n              },\n              placeholder: \"Please select\" // defaultValue={['a10', 'c12']}\n              ,\n              options: usersOption,\n              optionFilterProp: \"label\",\n              onChange: handleMultiSelectChange,\n              onSearch: handleSearch,\n              onSelect: value => {\n                console.log(\"selected present userId\", value);\n              },\n              children: children\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row mt-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-12\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Original Estimate\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-control\",\n                  type: \"number\",\n                  defaultValue: \"0\",\n                  min: \"0\",\n                  name: \"originalEstimate\",\n                  onChange: handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Time Tracking\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Slider, {\n              value: Number(timeTracking.timeTrackingSpent),\n              max: Number(timeTracking.timeTrackingSpent) + Number(timeTracking.timeTrackingRemaining)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-6 text-left font-weight-bold\",\n                children: [timeTracking.timeTrackingSpent, \" h logged\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-6 text-left font-weight-bold\",\n                children: [timeTracking.timeTrackingRemaining, \" h remaining\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              style: {\n                marginTop: '5px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-info\",\n                  children: \"Time spent\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  defaultValue: \"0\",\n                  min: \"0\",\n                  className: \"form-control\",\n                  name: \"timeTrackingSpent\",\n                  onChange: e => {\n                    setTimeTracking({ ...timeTracking,\n                      timeTrackingSpent: e.target.value\n                    });\n                    setFieldValue(\"timeTrackingSpent\", e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-info\",\n                  children: \"Time remaining\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  defaultValue: \"0\",\n                  min: \"0\",\n                  className: \"form-control\",\n                  name: \"timeTrackingRemaining\",\n                  onChange: e => {\n                    setTimeTracking({ ...timeTracking,\n                      timeTrackingRemaining: e.target.value\n                    });\n                    setFieldValue(\"timeTrackingRemaining\", e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Editor, {\n        name: \"description\",\n        initialValue: \"<p>This is the description of your project.</p>\",\n        init: {\n          height: 500,\n          menubar: false,\n          plugins: ['advlist autolink lists link image charmap print preview anchor', 'searchreplace visualblocks code fullscreen', 'insertdatetime media table paste code help wordcount'],\n          toolbar: 'undo redo | formatselect | ' + 'bold italic backcolor | alignleft aligncenter ' + 'alignright alignjustify | bullist numlist outdent indent | ' + 'removeformat | help',\n          content_style: 'body { font-family:Helvetica,Arial,sans-serif; font-size:14px }'\n        },\n        onEditorChange: (content, editor) => {\n          console.log(\"content\", content);\n          console.log(\"editor\", editor);\n          setFieldValue(\"description\", content);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Submit test\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 9\n  }, this);\n} //!withFormik k phải là RFC nên k thể lấy dữ liệu từ redux về bằng uselelector Hook  ===> phải tạo ra coponent FrmCreateTask và phải kết nối component này bằng hàm connect thì component FrmCreateTask này sẽ tự động chứa các props của redux\n\n\n_s(FormCreateTask, \"hv9DTLrgYLA/FsdzET0OXBs7E3g=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = FormCreateTask;\nconst FrmCreateTask = withFormik({\n  enableReinitialize: true,\n  mapPropsToValues: props => {\n    var _arrStatus$, _arrProject$, _arrTaskType$, _arrPriority$;\n\n    const {\n      arrProject,\n      arrPriority,\n      arrTaskType,\n      arrStatus\n    } = props;\n    console.log(\"arrProject in FrmCreateTask\", arrProject); // console.log(\"mapPropsToValues\");\n    //?component EditProjectForm đc bỏ trong hàm connect = > tạo ra props có hàm dispatch\n\n    console.log(\"props in withFormik of EditProjectForm\", props);\n    const {\n      projectEdit\n    } = props; //lấy về list user asigned cho project đầu tiên ở select Project Name (hiển thị mặc định lần đầu)\n    // if(arrProject.length > 0 ) {\n    //     props.dispatch({\n    //         type: GET_USERS_BY_ID_PROJECT_SAGA,\n    //         idProject: arrProject[0]?.id,\n    //     })\n    // }\n    //cái gì đc return ở hàm mapPropsToValues của withFormik chính là gtri props.values\n\n    return {\n      taskName: '',\n      description: '',\n      statusId: (_arrStatus$ = arrStatus[0]) === null || _arrStatus$ === void 0 ? void 0 : _arrStatus$.statusId,\n      originalEstimate: 0,\n      timeTrackingSpent: 0,\n      timeTrackingRemaining: 0,\n      projectId: (_arrProject$ = arrProject[0]) === null || _arrProject$ === void 0 ? void 0 : _arrProject$.id,\n      typeId: (_arrTaskType$ = arrTaskType[0]) === null || _arrTaskType$ === void 0 ? void 0 : _arrTaskType$.id,\n      priority: (_arrPriority$ = arrPriority[0]) === null || _arrPriority$ === void 0 ? void 0 : _arrPriority$.priorityId,\n      listUserAsign: []\n    };\n  },\n  validationSchema: Yup.object().shape({}),\n  handleSubmit: (values, {\n    props,\n    setSubmitting\n  }) => {\n    console.log(\"values of FrmCreateTask\", values);\n    console.log(\"PROPS of handleSubmit in FrmCreateTask\", props); //!sau khi lấy đc values từ tất cả các trường thì khi bấm nút submit sẽ vào hàm này, và dispatch saga action\n\n    props.dispatch({\n      type: 'CREATE_TASK_SAGA',\n      taskObject: values\n    });\n  },\n  displayName: 'CreateTaskForm'\n})(FormCreateTask);\n\nconst mapStateToProps = rootReducer => {\n  console.log(\"mapStateToProps\");\n  return {\n    arrProject: rootReducer.ProjectCyberBugsReducer.arrProject,\n    arrTaskType: rootReducer.TaskTypeReducer.arrTaskType,\n    arrPriority: rootReducer.PriorityReducer.arrPriority,\n    arrStatus: rootReducer.StatusReducer.arrStatus\n  };\n};\n\nexport default connect(mapStateToProps)(FrmCreateTask); // //lấy dữ liệu từ redux\n// const {arrProject} = useSelector(rootReducer => rootReducer.ProjectCyberBugsReducer);\n// // console.log(\"arrProject\", arrProject);\n// const {arrTaskType} = useSelector(rootReducer => rootReducer.TaskTypeReducer);\n// // console.log(\"arrTaskType\", arrTaskType);\n// const {arrPriority} = useSelector(rootReducer => rootReducer.PriorityReducer);\n// // console.log(\"handleSearch\",handleSearch);\n// const {arrStatus} = useSelector(rootReducer => rootReducer.StatusReducer);\n// // console.log(\"arrStatus\", arrStatus);\n// const {userSearchList} = useSelector(rootReducer => rootReducer.UserCyberBugsReducer);\n// // console.log(\"userSearchList\", userSearchList);\n// //tạo ra mảng option từ userSearchList\n// const usersOption = userSearchList.map((user, index) => {\n//     return {label: user.name, value: user.userId};\n// })\n\nvar _c;\n\n$RefreshReg$(_c, \"FormCreateTask\");","map":{"version":3,"sources":["D:/Chun Folder/Test web html/Cyberbugs1/src/components/Form/FormCreateTask/FormCreateTask.js"],"names":["React","useState","useEffect","Editor","Select","Slider","connect","useSelector","useDispatch","GET_ALL_PROJECT_SAGA","TaskTypeReducer","GET_ALL_TAKSK_TYPE_SAGA","GET_ALL_PRIORITY_SAGA","withFormik","Yup","GET_ALL_STATUS_SAGA","GET_USERS_BY_ID_PROJECT_SAGA","Option","children","i","push","toString","FormCreateTask","props","values","touched","errors","handleChange","handleBlur","handleSubmit","setValues","setFieldValue","console","log","dispatch","arrProject","rootReducer","ProjectCyberBugsReducer","arrTaskType","arrPriority","PriorityReducer","arrStatus","StatusReducer","arrUser","UserCyberBugsReducer","usersOption","map","user","index","label","name","value","userId","timeTracking","setTimeTracking","timeTrackingSpent","timeTrackingRemaining","type","submitFunction","handleMultiSelectChange","handleSearch","keyWord","e","target","idProject","project","id","projectName","statusItem","statusId","statusName","taskPriority","priorityId","priority","taskType","width","Number","marginTop","height","menubar","plugins","toolbar","content_style","content","editor","FrmCreateTask","enableReinitialize","mapPropsToValues","projectEdit","taskName","description","originalEstimate","projectId","typeId","listUserAsign","validationSchema","object","shape","setSubmitting","taskObject","displayName","mapStateToProps"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { Select, Slider  } from 'antd';\r\nimport  {connect, useSelector, useDispatch} from 'react-redux';\r\nimport { GET_ALL_PROJECT_SAGA } from './../../../redux/constants/Cyberbugs/ProjectCyberBugsConstants';\r\nimport { TaskTypeReducer } from './../../../redux/reducers/TaskTypeReducer';\r\nimport { GET_ALL_TAKSK_TYPE_SAGA } from './../../../redux/constants/Cyberbugs/TaskTypeConstant';\r\nimport { GET_ALL_PRIORITY_SAGA } from './../../../redux/constants/Cyberbugs/PriorityConstant';\r\nimport { withFormik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport { GET_ALL_STATUS_SAGA } from './../../../redux/constants/Cyberbugs/StatusConstant';\r\nimport { GET_USERS_BY_ID_PROJECT_SAGA } from './../../../redux/constants/Cyberbugs/UserConstant';\r\n\r\n\r\n\r\n\r\nconst { Option } = Select;\r\n\r\nconst children = [];\r\nfor (let i = 10; i < 36; i++) {\r\n    children.push(<Option key={i.toString(36) + i}>{i.toString(36) + i}</Option>);\r\n}\r\nfunction FormCreateTask(props) {\r\n\r\n\r\n    \r\n    //!do kết nối với formik => component có các prop của formik\r\n    const {\r\n        values,\r\n        touched,\r\n        errors,\r\n        handleChange,\r\n        handleBlur,\r\n        handleSubmit,\r\n        setValues,     //cho phép set lại nguyên cả object values khi submit mà không cần thông qua handle change, có thể gọi hàm này để set lại value ở bất cứ hàm nào\r\n        setFieldValue  //cho phép set lại value của 1 field nào đó, còn value các trường còn lại giữ nguyên, khi submit mà không cần thông qua handle change, có thể gọi hàm này để set lại value ở bất cứ hàm nào\r\n    } = props;\r\n    console.log(\"values in HOC FrmCreateTask\", values);\r\n\r\n\r\n\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    //lấy dữ liệu từ redux\r\n    const {arrProject} = useSelector(rootReducer => rootReducer.ProjectCyberBugsReducer);\r\n    // console.log(\"arrProject\", arrProject);\r\n    const {arrTaskType} = useSelector(rootReducer => rootReducer.TaskTypeReducer);\r\n    // console.log(\"arrTaskType\", arrTaskType);\r\n    const {arrPriority} = useSelector(rootReducer => rootReducer.PriorityReducer);\r\n    // console.log(\"handleSearch\",handleSearch);\r\n    \r\n    const {arrStatus} = useSelector(rootReducer => rootReducer.StatusReducer);\r\n    // console.log(\"arrStatus\", arrStatus);\r\n\r\n    const {arrUser} = useSelector(rootReducer => rootReducer.UserCyberBugsReducer);\r\n    console.log(\"arrUser\", arrUser);\r\n    //tạo ra mảng option từ arrUser (chứa các option là các user đc assign tương ứng vào project)\r\n    const usersOption = arrUser.map((user, index) => {\r\n        return {label: user.name, value: user.userId};\r\n    })\r\n\r\n    console.log(\"userOption\", usersOption);\r\n\r\n    \r\n    const [timeTracking, setTimeTracking] = useState({\r\n        timeTrackingSpent: 0,\r\n        timeTrackingRemaining: 0,\r\n    })\r\n\r\n\r\n    //hook\r\n    useEffect(() => {\r\n        dispatch({\r\n            type: GET_ALL_PROJECT_SAGA,\r\n        });\r\n\r\n        dispatch({\r\n            type: GET_ALL_TAKSK_TYPE_SAGA,\r\n        });\r\n\r\n        dispatch({\r\n            type: GET_ALL_PRIORITY_SAGA,\r\n        });\r\n\r\n        dispatch({\r\n            type: GET_ALL_STATUS_SAGA,\r\n        })\r\n\r\n        //đưa làm handleSubmit lên ModalCyberbugs để cập nhận lại sự kiện cho nút submit\r\n        dispatch({\r\n            type: 'SET_SUBMIT_CREATE_TASK',\r\n            submitFunction: handleSubmit,\r\n        })\r\n      \r\n    }, [])\r\n\r\n\r\n\r\n\r\n\r\n\r\n  \r\n  \r\n\r\n    const handleMultiSelectChange = (values) => {\r\n        //?Hàm này đc chạy khi select 1 option và lấy ra mảng value các option đc chọn\r\n        console.log(\"selected array id  users\",values);\r\n\r\n        //!đây là handleChange của thẻ Select của Andesign nên k thể lấy dữ liệu khi submit như các thẻ select khác (là chỉ cần để onChange = {handleChange} thì formik sẽ tự động lấy)\r\n        // * ==> phải sử dụng hàm setField và truyền vào tham số thứ nhất là tên của field muốn lấy dữ liệu, tham số thứ 2 là dữ liệu\r\n        setFieldValue(\"listUserAsign\", values);\r\n      }\r\n\r\n\r\n\r\n    const handleSearch = (value) => {\r\n        //? Hàm này đc chạy khi ng dùng nhập vào ô multi select\r\n        console.log(\"value ng dùng nhập\", value);\r\n        //mỗi lần search thì call api lấy về mảng user gồm tất cả các user\r\n        dispatch({\r\n            type: 'GET_USER_CYBERBUGS_SAGA',\r\n            keyWord: '',\r\n        })\r\n    }\r\n    \r\n\r\n    return (\r\n        <form className = \"container\" onSubmit = {handleSubmit}>\r\n            <div className = \"form-group\">\r\n                <p>Project Name</p>\r\n                <select name = \"projectId\" className = \"form-control\" onChange={(e) => {\r\n                    // //cập nhật giá trị cho trường projectId\r\n                    setFieldValue(\"projectId\", e.target.value);\r\n\r\n                    //?mỗi lần select 1 project thì gọi action saga get users assigned trong project này và gửi vào mảng arrUser trên UserCyberBugsReducer\r\n                    let {value} = e.target;\r\n                    console.log(\"value khi onChange select Project Name \", value);\r\n                    dispatch({\r\n                        type: GET_USERS_BY_ID_PROJECT_SAGA,\r\n                        idProject: value,\r\n                    })\r\n\r\n                }} >\r\n                    {arrProject.map((project, index) => {\r\n                        return <option value = {project.id} key = {index}>{project.projectName}</option>\r\n                    })}\r\n                   \r\n                </select>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <p>Task Name</p>\r\n                <input className = \"form-control\" name = \"taskName\" onChange={handleChange} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <p>Status Id</p>\r\n                <select className = \"form-control\" name = \"statusId\">\r\n                    {arrStatus.map((statusItem, index) => {\r\n                        return <option key={index} value = {statusItem.statusId}>{statusItem.statusName}</option>;\r\n                    })}\r\n                </select>\r\n            </div>\r\n            <div className = \"form-group\">\r\n                <div className = \"row\">\r\n                    <div className = \"col-6\">\r\n                        <p>Priority</p>\r\n                        <select name = \"prioritytId\" className = \"form-control\" onChange={handleChange}>\r\n                            {\r\n                                arrPriority.map((taskPriority, index) => {\r\n                                    return <option key = {index} value = {taskPriority.priorityId}> {taskPriority.priority}</option>\r\n                                })\r\n                            }\r\n                        </select>\r\n                    </div>\r\n                    <div className = \"col-6\">\r\n                        <p>Task Type</p>\r\n                        <select name = \"typeId\" className = \"form-control\" onChange={handleChange}>\r\n                            {arrTaskType.map((taskType,index)=>{\r\n                                return <option key={index} value={taskType.id}>{taskType.taskType}</option>\r\n                            })}\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className = \"form-group\">\r\n                <div className = \"form-group\">\r\n                    <div className = \"row\">\r\n                        <div className = \"col-6\">\r\n                            <p>Assign Members</p>\r\n                            <Select\r\n\r\n                                mode=\"multiple\"\r\n                                allowClear\r\n                                style={{ width: '100%' }}\r\n                                placeholder=\"Please select\"\r\n                                // defaultValue={['a10', 'c12']}\r\n                                options = {usersOption}\r\n                                optionFilterProp = \"label\"\r\n                                onChange={handleMultiSelectChange}\r\n                                onSearch = {handleSearch}\r\n                                onSelect = {(value) => {\r\n                                    console.log(\"selected present userId\", value)\r\n                                }}\r\n                                >\r\n                                {children}\r\n                               \r\n                            </Select>\r\n                            <div className=\"row mt-3\">\r\n                                <div className=\"col-12\">\r\n                                    <p>Original Estimate</p>\r\n                                    <input className=\"form-control\" type = \"number\" defaultValue = \"0\" min =\"0\" name = \"originalEstimate\"  onChange={handleChange} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className = \"col-6\">\r\n                            <p>Time Tracking</p>\r\n                            <Slider value = {Number(timeTracking.timeTrackingSpent)}\r\n                                max = {Number(timeTracking.timeTrackingSpent) + Number(timeTracking.timeTrackingRemaining)} />\r\n                            \r\n                            <div className=\"row\">\r\n                                <div className=\"col-6 text-left font-weight-bold\">{timeTracking.timeTrackingSpent} h logged</div>\r\n                                <div className=\"col-6 text-left font-weight-bold\">{timeTracking.timeTrackingRemaining} h remaining</div>\r\n                            </div>\r\n                            \r\n                            <div className = \"row\" style = {{marginTop: '5px'}}>\r\n                                <div className = \"col-6\">\r\n                                    <p className = \"text-info\">Time spent</p>\r\n                                    <input type = \"number\" defaultValue = \"0\" min = \"0\" className=\"form-control\" name = \"timeTrackingSpent\"\r\n                                        onChange = {(e) => {\r\n                                            setTimeTracking({\r\n                                                ...timeTracking,\r\n                                                timeTrackingSpent: e.target.value,\r\n                                            });\r\n\r\n                                            setFieldValue(\"timeTrackingSpent\", e.target.value);\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                                <div className = \"col-6\">\r\n                                    <p className = \"text-info\">Time remaining</p>\r\n                                    <input type = \"number\" defaultValue = \"0\" min = \"0\" className=\"form-control\" name = \"timeTrackingRemaining\"\r\n                                        onChange = {(e) => {\r\n                                            setTimeTracking({\r\n                                                ...timeTracking,\r\n                                                timeTrackingRemaining: e.target.value,\r\n                                            });\r\n                                            setFieldValue(\"timeTrackingRemaining\", e.target.value);\r\n\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <p>Description</p>\r\n                <Editor\r\n                            name = \"description\"\r\n                            initialValue=\"<p>This is the description of your project.</p>\"\r\n                            init={{\r\n                            height: 500,\r\n                            menubar: false,\r\n                            plugins: [\r\n                                'advlist autolink lists link image charmap print preview anchor',\r\n                                'searchreplace visualblocks code fullscreen',\r\n                                'insertdatetime media table paste code help wordcount'\r\n                            ],\r\n                            toolbar: 'undo redo | formatselect | ' +\r\n                            'bold italic backcolor | alignleft aligncenter ' +\r\n                            'alignright alignjustify | bullist numlist outdent indent | ' +\r\n                             'removeformat | help',\r\n                            content_style: 'body { font-family:Helvetica,Arial,sans-serif; font-size:14px }'\r\n                            }}\r\n                            onEditorChange={(content, editor) => {\r\n                                console.log(\"content\", content);\r\n                                console.log(\"editor\", editor);\r\n                                setFieldValue(\"description\", content);\r\n\r\n                            }}\r\n                />\r\n            </div>\r\n            \r\n            <button type = \"submit\">Submit test</button>\r\n        </form>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n//!withFormik k phải là RFC nên k thể lấy dữ liệu từ redux về bằng uselelector Hook  ===> phải tạo ra coponent FrmCreateTask và phải kết nối component này bằng hàm connect thì component FrmCreateTask này sẽ tự động chứa các props của redux\r\nconst FrmCreateTask = withFormik({\r\n    enableReinitialize: true,\r\n    mapPropsToValues: (props) => {\r\n\r\n        const {arrProject, arrPriority, arrTaskType, arrStatus} = props;\r\n        console.log(\"arrProject in FrmCreateTask\", arrProject);\r\n        // console.log(\"mapPropsToValues\");\r\n        //?component EditProjectForm đc bỏ trong hàm connect = > tạo ra props có hàm dispatch\r\n        console.log(\"props in withFormik of EditProjectForm\", props);\r\n        const {projectEdit} = props;\r\n\r\n\r\n        //lấy về list user asigned cho project đầu tiên ở select Project Name (hiển thị mặc định lần đầu)\r\n        // if(arrProject.length > 0 ) {\r\n        //     props.dispatch({\r\n        //         type: GET_USERS_BY_ID_PROJECT_SAGA,\r\n        //         idProject: arrProject[0]?.id,\r\n        //     })\r\n        // }\r\n\r\n        //cái gì đc return ở hàm mapPropsToValues của withFormik chính là gtri props.values\r\n      return {\r\n        taskName: '',\r\n        description: '',\r\n        statusId: arrStatus[0]?.statusId,\r\n        originalEstimate: 0,\r\n        timeTrackingSpent: 0,\r\n        timeTrackingRemaining: 0,\r\n        projectId: arrProject[0]?.id,\r\n        typeId: arrTaskType[0]?.id,\r\n        priority: arrPriority[0]?.priorityId,\r\n        listUserAsign: [],\r\n      }\r\n    },\r\n    validationSchema: Yup.object().shape({\r\n\r\n\r\n    }),\r\n    handleSubmit: (values, { props, setSubmitting }) => {\r\n        console.log(\"values of FrmCreateTask\", values);\r\n        console.log(\"PROPS of handleSubmit in FrmCreateTask\",props);\r\n        \r\n        //!sau khi lấy đc values từ tất cả các trường thì khi bấm nút submit sẽ vào hàm này, và dispatch saga action\r\n        props.dispatch({\r\n            type: 'CREATE_TASK_SAGA',\r\n            taskObject: values,\r\n        })\r\n    },\r\n    displayName: 'CreateTaskForm',\r\n})(FormCreateTask);\r\n\r\n\r\nconst mapStateToProps = (rootReducer) => {\r\n    console.log(\"mapStateToProps\")\r\n    return {\r\n        arrProject: rootReducer.ProjectCyberBugsReducer.arrProject,\r\n        arrTaskType: rootReducer.TaskTypeReducer.arrTaskType,\r\n        arrPriority: rootReducer.PriorityReducer.arrPriority,\r\n        arrStatus: rootReducer.StatusReducer.arrStatus, \r\n\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport default connect(mapStateToProps) (FrmCreateTask);\r\n\r\n\r\n    // //lấy dữ liệu từ redux\r\n    // const {arrProject} = useSelector(rootReducer => rootReducer.ProjectCyberBugsReducer);\r\n    // // console.log(\"arrProject\", arrProject);\r\n    // const {arrTaskType} = useSelector(rootReducer => rootReducer.TaskTypeReducer);\r\n    // // console.log(\"arrTaskType\", arrTaskType);\r\n    // const {arrPriority} = useSelector(rootReducer => rootReducer.PriorityReducer);\r\n    // // console.log(\"handleSearch\",handleSearch);\r\n    \r\n    // const {arrStatus} = useSelector(rootReducer => rootReducer.StatusReducer);\r\n    // // console.log(\"arrStatus\", arrStatus);\r\n\r\n    // const {userSearchList} = useSelector(rootReducer => rootReducer.UserCyberBugsReducer);\r\n    // // console.log(\"userSearchList\", userSearchList);\r\n    // //tạo ra mảng option từ userSearchList\r\n    // const usersOption = userSearchList.map((user, index) => {\r\n    //     return {label: user.name, value: user.userId};\r\n    // })"]},"metadata":{},"sourceType":"module"}